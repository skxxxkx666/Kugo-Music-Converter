# v0.2.3 回归测试清单

> 目标版本：`v0.2.3`  
> 测试环境：Windows 10/11，1920x1080，缩放 100%

## 1. 启动与健康检查

- [ ] `start.hta` 可正常启动并显示版本 `v0.2.3`
- [ ] 后端启动后浏览器自动打开 `http://localhost:8080`
- [ ] 健康检查接口 `GET /api/health` 返回 `status=ok`
- [ ] 手动停止后端进程后，HTA 在连续失败后显示“服务已停止响应”
- [ ] 点击“重启服务”可恢复并再次通过健康检查
- [ ] `start.bat` 可启动并显示版本 `v0.2.3`

## 2. 页面初始化与基础交互

- [ ] 页面首次加载显示骨架屏，配置加载后骨架屏消失
- [ ] 主题切换按钮可在深/浅色间切换
- [ ] 版本徽标显示 `v0.2.3`（不显示“预览”标签）
- [ ] 图标可见（按钮、状态、文件类型等）
- [ ] 输出目录可选择并打开
- [ ] 数据库路径可手动选择与重新检测

## 3. 上传与队列

- [ ] 拖拽文件进入页面时鼠标为复制态，拖拽区高亮
- [ ] 支持选择/拖入 `.kgg .kgm .kgma .vpr .ncm`
- [ ] 不支持格式会被跳过并记录日志
- [ ] 过大文件会被跳过并记录日志
- [ ] 文件可从预览列表移除（含移除动画）

## 4. 转换流程

- [ ] 未选文件时“开始转换”不可用
- [ ] 输出目录为空时阻止转换并提示
- [ ] 队列含 KGG 且无 DB 时阻止转换并提示
- [ ] 转换中“取消”按钮可用
- [ ] 进度条平滑动画更新，完成时有脉冲反馈
- [ ] 文件进度行状态图标会随阶段变化
- [ ] 完成后结果面板展示成功/失败/耗时
- [ ] 结果数字有滚动动画（success/failed/duration）

## 5. 扫描工具与导出

- [ ] 选择文件夹并扫描成功，显示统计与列表
- [ ] 自定义扩展名筛选生效
- [ ] 可复制文件名
- [ ] 可复制完整路径
- [ ] 可导出 CSV
- [ ] 可将扫描结果加入转换队列

## 6. 日志、历史与失败详情

- [ ] 日志实时追加且支持导出
- [ ] 转换完成后历史记录新增一条
- [ ] 可清空历史记录
- [ ] 存在失败文件时“失败详情”展示完整信息
- [ ] 可导出失败文件列表 CSV

## 7. 异常与边界

- [ ] 断网时 GitHub 更新检查失败不影响主流程
- [ ] 图标 CDN 失败时仍显示 fallback 图标
- [ ] 转换请求被取消后状态可恢复，支持再次转换
- [ ] 多次快速点击按钮不会导致页面卡死或状态错乱
- [ ] 连续拖拽进出不会出现拖拽高亮残留

## 8. 可访问性与响应式

- [ ] `Tab` 可遍历主要交互控件且焦点可见
- [ ] 移动端窄屏（<=640）按钮组正确堆叠
- [ ] 列表区域可触摸滚动
- [ ] `prefers-reduced-motion` 下动画明显减少
